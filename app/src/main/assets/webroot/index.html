<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>功能测试</title>
<style type="text/css">
    body{
        background-color:#eee;
        text-align: center;
    }
    .btn{
        display: block;
        padding:8px;
        border-bottom: 1px solid #eee;
        font-size:15px;
        font-weight:600;
        background-color: cornsilk;
        width:100%;
        margin-top:5px;
    }
    .segment{
        margin-top:10px;
        font-size:12px;
        padding:5px;
    }
    #imagebox img{
        max-width: 100%;
    }
</style>
</head>
<body>
    
<div class="segment">UI</div>
<button class="btn" onclick="alert('alert message')">alert</button>
<button class="btn" onclick="page.showToast()">showToast</button>
<button class="btn" onclick="page.showToastWithType()">showToastWithType</button>
<button class="btn" onclick="page.showLoading()">showLoading</button>
<button class="btn" onclick="page.showModal()">showModal</button>
<button class="btn" onclick="page.showActionSheet()">showActionSheet</button>
<button class="btn" onclick="page.enableBouncesTrue()">enableBouncesTrue</button>
<button class="btn" onclick="page.enableBouncesFalse()">enableBouncesFalse</button>
<button class="btn" onclick="page.setTabBarSelectedIndex()">setTabBarSelectedIndex</button>
<button class="btn" onclick="page.getTabBarSelectedIndex()">getTabBarSelectedIndex</button>
<button class="btn" onclick="page.setTabBarBadge()">setTabBarBadge</button>
<button class="btn" onclick="page.setApplicationBadge()">setApplicationBadge</button>
<button class="btn" onclick="page.previewImage()">previewImage</button>

<button class="btn" onclick="page.stopPullToRefresh()">stopPullToRefresh</button>
<button class="btn" onclick="page.enablePullToRefresh()">enablePullToRefresh</button>
<div id="imagebox"></div>
<button class="btn" onclick="page.showImagePicker()">showImagePicker</button>
<button class="btn" onclick="page.scanQRCode()">scanQRCode</button>
<button class="btn" onclick="page.showPickerView()">showPickerView</button>
<button class="btn" onclick="page.showDatePickerView()">showDatePickerView</button>
<button class="btn" onclick="page.showWebView()">showWebView</button>


<div class="segment">Variable and Storage</div>
<button class="btn" onclick="page.setVariable()">setVariable</button>
<button class="btn" onclick="page.getVariable()">getVariable</button>
<button class="btn" onclick="page.removeVariable()">removeVariable</button>
<button class="btn" onclick="page.setStorage()">setStorage</button>
<button class="btn" onclick="page.getStorage()">getStorage</button>
<button class="btn" onclick="page.removeStorage()">removeStorage</button>
<button class="btn" onclick="page.getStorageInfo()">getStorageInfo</button>


<div class="segment">Misc</div>
<button class="btn" onclick="page.getSystemInfo()">getSystemInfo</button>
<button class="btn" onclick="page.getNetworkType()">getNetworkType</button>
<button class="btn" onclick="page.vibrate()">vibrate</button>
<button class="btn" onclick="page.postMessage()">postMessage</button>
<button class="btn" onclick="page.log()">log</button>
<button class="btn" onclick="page.getLocation()">getLocation</button>
<button class="btn" onclick="page.openLocation()">openLocation</button>
<button class="btn" onclick="page.setPasteboard()">setPasteboard</button>
<button class="btn" onclick="page.getPasteboard()">getPasteboard</button>


<div class="segment">Page</div>
<button class="btn" onclick="page.pushPage()">pushPage</button>
<button class="btn" onclick="page.popPage()">popPage</button>
<button class="btn" onclick="page.popToRootPage()">popToRootPage</button>
<button class="btn" onclick="page.loadPage()">loadPage</button>
<button class="btn" onclick="page.presentPage()">presentPage</button>
<button class="btn" onclick="page.dismissPage()">dismissPage</button>

<div class="segment">NavigationBar</div>
<button class="btn" onclick="page.setNavigationBarTitle()">setNavigationBarTitle</button>
<button class="btn" onclick="page.setNavigationBarSegment()">setNavigationBarSegment</button>
<button class="btn" onclick="page.selectNavigationBarSegment()">selectNavigationBarSegment</button>
<button class="btn" onclick="page.setNavigationBarVisibleTrue()">setNavigationBarVisibleTrue</button>
<button class="btn" onclick="page.setNavigationBarVisibleFalse()">setNavigationBarVisibleFalse</button>
<button class="btn" onclick="page.setupNavigationBar()">setupNavigationBar</button>


<div class="segment">Audio</div>
<button class="btn" onclick="page.startAudioRecord()">startAudioRecord</button>
<button class="btn" onclick="page.pauseAudioRecord()">pauseAudioRecord</button>
<button class="btn" onclick="page.stopAudioRecord()">stopAudioRecord</button>
<button class="btn" onclick="page.getAudioRecordStatus()">getAudioRecordStatus</button>

<div class="segment">File</div>
<button class="btn" onclick="page.downloadFile()">downloadFile</button>
<button class="btn" onclick="page.uploadFile()">uploadFile</button>
<button class="btn" onclick="page.getFileURL()">getFileURL</button>
<button class="btn" onclick="page.getFilePath()">getFilePath</button>
<button class="btn" onclick="page.readFile()">readFile</button>
<button class="btn" onclick="page.writeFile()">writeFile</button>
<button class="btn" onclick="page.isFileExists()">isFileExists</button>
<button class="btn" onclick="page.createDirectory()">createDirectory</button>
<button class="btn" onclick="page.deleteFile()">deleteFile</button>
<button class="btn" onclick="page.listFiles()">listFiles</button>
<button class="btn" onclick="page.moveFile()">moveFile</button>



<script type="text/javascript">
    //
window.page = {
    pageLoad:function(args){
        app.showToast("pageLoad:"+JSON.stringify(args));
    },
    pageUnload:function(){
        app.showToast("pageUnload:");
    },
    pageShow:function(){
        app.showToast("pageShow:");   
    },
    pageHide:function(){
        app.showToast("pageHide:");    
    },
    pageMessage:function(args){
        app.showToast("pageMessage:"+JSON.stringify(args));
    },
    pagePullToRefresh:function(args){
        app.showToast("pagePullToRefresh:"+JSON.stringify(args));
    },
    pageNavigationBarSegmentSelected:function(args){
        app.showToast("pageNavigationBarSegmentSelected:"+JSON.stringify(args));
    },
    showToast:function(){
        app.showToast("invoke showToast")
    },
    showToastWithType:function(){
        app.showToast({
            type:"info",//info error success
            message:"invoke showToast"
        })
    },
    postMessage:function(){
        app.postMessage({
            name:"pageMessageName",
            args:{a:1,b:2}
        })
    },
    log:function(){
        app.log("123")
    },
    showLoading:function(){
        app.showLoading();
        setTimeout(function(){
            app.hideLoading();
        },3000)
    },
    showModal:function(){
        app.showModal({
            title:"modalTitle",
            message:"modalMessage",
            callback:function(){
                app.showToast("showModal callback");
            }
        })
    },
    showActionSheet:function(){
        app.showActionSheet({
            title:"showActionSheet title",
            message:"showActionSheet message",
            options:["option 1","option 2","option 3"],
            callback:function(result){
                app.showToast("actionsheet callback "+result.option)
            }
        })
    },
    setVariable:function(){
        app.setVariable({
            key:"username",
            value:"itit"
        })
    },
    getVariable:function(){
        app.getVariable({
            key:"username",
            callback:function(t){
                app.showToast("getVariable return:"+JSON.stringify(t))
            }
        })
    },
    removeVariable:function(){
        app.removeVariable({
            key:"username"
        })
    },
    setStorage:function(){
        app.setStorage({
            key:"username",
            value:"itit"
        })
    },
    getStorage:function(){
        app.getStorage({
            key:"username",
            callback:function(t){
                app.showToast("getStorage return:"+JSON.stringify(t))
            }
        })
    },
    getStorageInfo:function(){
        app.getStorageInfo({
            callback:function(t){
                app.showToast("getStorageInfo return:"+JSON.stringify(t))
            }
        })
    },
    removeStorage:function(){
        app.removeVariable({
            key:"username"
        })
    },
    getSystemInfo:function(){
        app.getSystemInfo({
            callback:function(t){
                app.showToast("getSystemInfo return:"+JSON.stringify(t))
            }
        })
    },
    getNetworkType:function(){
        app.getNetworkType({
            callback:function(t){
                app.showToast("getNetworkType return:"+JSON.stringify(t))
            }
        })
    },
    vibrate:function(){
        app.vibrate()
    },
    pushPage:function(){
        app.pushPage({
            path:"index.html",
            query:{a:1,b:2}
        });
    },
    loadPage:function(){
        app.loadPage({
            path:"index.html",
            query:{arg1:1,arg2:2}
        });
    },
    popPage:function(){
        app.popPage();
    },
    popToRootPage:function(){
        app.popToRootPage();
    },
    presentPage:function(){
        app.presentPage({
            path:"input.html",
            query:{a:1,b:2},
            blur:true,
            navigate:true,
            type:"custom",
            height:400
        });
    },
    dismissPage:function(){
        app.dismissPage();
    },
    setNavigationBarTitle:function(){
        app.setNavigationBarTitle({
            title:"NavigationBarTitle",
            image:"navbar-icon.png"
        })
    },
    setNavigationBarSegment:function(){
        app.setNavigationBarSegment({
            items:["a","b","c","d","e","f"],
        })
    },
    selectNavigationBarSegment:function(){
        app.selectNavigationBarSegment({
            index:2,
        })
    },
    enableBouncesTrue:function(){
        app.enableBounces({
            enable:true
        })
    },
    enableBouncesFalse:function(){
        app.enableBounces({
            enable:false
        })
    },
    setTabBarSelectedIndex:function(){
        app.setTabBarSelectedIndex({
            index:1,
        })
    },
    getTabBarSelectedIndex:function(){
        app.getTabBarSelectedIndex({
            callback:function(t){
                app.showToast("getTabBarSelectedIndex return:"+JSON.stringify(t))
            }
        })
    },
    setTabBarBadge:function(){
        app.setTabBarBadge({
            index:1,
            badge:"1"
        })
    },
    setApplicationBadge:function(){
        app.setApplicationBadge({
            badge:1,
        })
    },
    getLocation:function(){
        app.getLocation({
            callback:function(t){
                app.showToast("getLocation return:"+JSON.stringify(t))
            }
        })
    },
    previewImage:function(){
        app.previewImage({
           urls:['tabbar-icon.png'],
           index:0
        })
    },
    setNavigationBarVisibleTrue:function(){
        app.setNavigationBarVisible({
            visible:true
        })
    },
    setNavigationBarVisibleFalse:function(){
        app.setNavigationBarVisible({
            visible:false
        })
    },
    setPasteboard:function(){
        app.setPasteboard({
            string:"pasteboard string"
        })
    },
    getPasteboard:function(){
        app.getPasteboard({
            callback:function(t){
                app.showToast("getPasteboard return:"+JSON.stringify(t))
            }
        })
    },
    enablePullToRefresh:function(){
        app.enablePullToRefresh()
    },
    stopPullToRefresh:function(){
        app.stopPullToRefresh()
    },
    showLocalImage:function(path){
        app.moveFile({
            source:path,
            dest:"preview.png",
            callback:function(t){
                app.showToast("moveFile return:"+JSON.stringify(t))
                var img = document.createElement("img");
                img.src = "preview.png";
                var src = document.getElementById("imagebox");
                src.appendChild(img);
            }
        })
    },
    showImagePicker:function(){
        app.showImagePicker({
            type:"all",
            source:"both",
            limit:9,
            format:"jpeg",
            quality:0.75,
            callback:function(t){
                app.showToast("showImagePicker return:"+JSON.stringify(t))
                //
                if(t.paths.length>0){
                    page.showLocalImage(t.paths[0]);
                }
            }
        })
    },
    scanQRCode:function(){
        app.scanQRCode({
            callback:function(t){
                app.showToast("scanQRCode return:"+JSON.stringify(t))
            }
        })
    },
    openLocation:function(){
        app.openLocation({
                         title:"测试1",
                         subtitle:"测试1",
                         latitude:37.7185,
                         longitude:100.722,
                         delta:0.05,
                         callback:function(t){
                         app.showToast("openLocation"+JSON.stringify(t))
                         }
        })
    },
    setupNavigationBar:function(){
        app.setNavigationBarItems({
            position:"right",
            images:["navbar-icon.png"],
        }) 
        app.setNavigationBarItems({
            position:"left",
            images:["navbar-icon.png"],
        })   
        app.setNavigationBarTitle({
            image:"navbar-icon.png",
        })
    },
    startAudioRecord:function(){
        app.startAudioRecord({
            callback:function(t){
                app.showToast("startAudioRecord return:"+JSON.stringify(t))
            }
        })
    },
    pauseAudioRecord:function(){
        app.pauseAudioRecord({
            callback:function(t){
                app.showToast("pauseAudioRecord return:"+JSON.stringify(t))
            }
        })
    },
    stopAudioRecord:function(){
        app.stopAudioRecord({
            callback:function(t){
                app.showToast("stopAudioRecord return:"+JSON.stringify(t))
            }
        })
    },
    getAudioRecordStatus:function(){
        app.getAudioRecordStatus({
            callback:function(t){
                app.showToast("getAudioRecordStatus return:"+JSON.stringify(t))
            }
        })
    },
    showPickerView:function(){
        app.showPickerView({
            title:"pickerViewTitle",
            items:["1","2","3"],
            select:1,
            callback:function(t){
                app.showToast("showPickerView return:"+JSON.stringify(t))
            }
        })
    },
    showDatePickerView:function(){
        app.showDatePickerView({
            title:"pickerViewTitle",
            mode:'date',
            minDate:new Date().getTime()-3600*24*3*1000,
            maxDate:new Date().getTime()+3600*24*3*1000, 
            date:new Date().getTime(),
            callback:function(t){
                app.showToast("showDatePickerView return:"+JSON.stringify(t))
            }
        })
    },
    showWebView:function(){
        app.showWebView({
            url:"https://www.baidu.com"
        })
    },
    //
    //
    //files
    downloadFile:function(){
        app.downloadFile({
            url:"https://www.baidu.com/img/bd_logo1.png",
            path:"baidulogo.png",
            callback:function(t){
                app.showToast("downloadFile return:"+JSON.stringify(t))
            }
        })
    },
    uploadFile:function(){
        app.downloadFile({
            url:"https://www.baidu.com",
            path:"app.json",
            callback:function(t){
                app.showToast("uploadFile return:"+JSON.stringify(t))
            }
        })
    },
    getFileURL:function(){
        app.getFileURL({
            path:"app.json",
            callback:function(t){
                app.showToast("getFileURL return:"+JSON.stringify(t))
            }
        })
    },
    getFilePath:function(){
        app.getFilePath({
            path:"app.json",
            callback:function(t){
                app.showToast("getFilePath return:"+JSON.stringify(t))
            }
        })
    },
    readFile:function(){
        app.readFile({
            path:"app.json",
            callback:function(t){
                app.showToast("readFile return:"+JSON.stringify(t))
            }
        })
    },
    writeFile:function(){
        app.readFile({
            path:"app1.json",
            content:"123456",
            callback:function(t){
                app.showToast("writeFile return:"+JSON.stringify(t))
            }
        })
    },
    isFileExists:function(){
        app.isFileExists({
            path:"app.json",
            callback:function(t){
                app.showToast("isFileExists return:"+JSON.stringify(t))
            }
        })
    },
    createDirectory:function(){
        app.createDirectory({
            path:"temp",
            callback:function(t){
                app.showToast("createDirectory return:"+JSON.stringify(t))
            }
        })
    },
    deleteFile:function(){
        app.deleteFile({
            path:"baidulogo.png",
            callback:function(t){
                app.showToast("deleteFile return:"+JSON.stringify(t))
            }
        })
    },
    listFiles:function(){
        app.listFiles({
            path:"/",
            callback:function(t){
                app.showToast("listFiles return:"+JSON.stringify(t))
            }
        })
    },
    moveFile:function(){
        app.moveFile({
            source:"baidulogo.png",
            dest:"baidulogo1.png",
            callback:function(t){
                app.showToast("moveFile return:"+JSON.stringify(t))
            }
        })
    },
}
</script>
</body>
</html>
